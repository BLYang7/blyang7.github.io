---
layout: post
title: ONOS系统架构
categories: 框架结构

---

>ONOS是一个面向运营商的开放网络操作系统，

ONOS的系统架构图如下：

![](/images/pages/framework/ONOS.png)

ONOS具体由应用层，北向核心接口层，分布式核心层，南向核心接口层，适配层，设备层构成。其中南向核心接口层和适配层合起来称之为南向抽象层，是连接ONOS核心层和设备层的重要桥梁。 关于ONOS的特点如下：

* 目标：高可用、高扩展性、高性能
* 特点：简单
* 技术层面：抽象化、模块化
* 分布式部署，集群控制

ONOS可以作为服务部署在集群和服务器上， 每个服务器运行相同的ONOS软件，当服务器故障时，可以快速的进行故障切换，这也是它作为分布式平台的特色性能。分布式的核心平台为用户创建了一个可靠性极高的环境，将这个SDN控制器提升到运营商级别，这是ONOS的做大亮点。


<br/>


**北向接口抽象层** ： 将应用与网络细节隔离，而网络操作系统又与应用隔离，从而提高应用开发速度。北向接口中比较重要的是网络拓扑的抽象、流表和Intent。其中Intent是北向接口中很重要的一个模块，负责接收上层App传递的数据，并且作数据处理后，将数据分派到下层指定的接口中去。如下图：

![](/images/pages/framework/ONOSNorth.png)

针对不同的流，首先从App层下发到Intent中，然后再从Intent继续向下下发，在Intent模块中决定分配到下层哪个接口。让传统流表中遇到的各种问题都在Intent中解决，下层的流表处理不会再出现问题。


<br/>


**南向接口抽象层** ： 将网络单元表示成通用格式的对象，在这个抽象层中，不需要知道底层设备的具体细节，而具体的设备细节用驱动来实现，驱动对上接收的数据格式是一致的，对下随着具体设备的不同，处理方式也不同，所以只需要写不同的驱动作数据适配，而不需要在ONOS核心中考虑设备的差异。所以控制器的核心层就可以专注与业务逻辑和flow的控制，而具体的pipeline都由driver驱动。ONOS中不用考虑设备的兼容性，也不需要考虑网络、流的区别。FlowObject可以使得开发者仅需要写一次逻辑，就能够适配所有的交换机器件。


<br/>

**Intent FrameWork**： Intent作为第一层对流做分派和处理的模块，也有自己的架构，如下图：

![](/images/pages/framework/ONOSIntentFramework.png)

Intent作为北向接口的核心模块，是负责Flow流转的关键，包含一系列的功能模块。

而再下面的Core是负责业务逻辑的处理，核心层。






